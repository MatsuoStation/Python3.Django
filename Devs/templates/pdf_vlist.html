<!--
#//+------------------------------------------------------------------+
#//|             VerysVeryInc.Python3.Django.Templates.PDF.vList.html |
#//|                  Copyright(c) 2018, VerysVery Inc. & Yoshio.Mr24 |
#//|                 https://github.com/MatsuoStation/Python3.Django/ |
#//|                                                 Since:2018.03.05 |
#//|                                Released under the Apache license |
#//|                       https://opensource.org/licenses/Apache-2.0 |
#//|  "VsV.Py3.Dj.TLs.PDF_vList.html - Ver.3.80.50 Update:2021.01.06" |
#//+------------------------------------------------------------------+
-->
{% load sass_tags %}
{% load humanize %}
{% load static %}
{% load vfilter %}

<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link href="https://fonts.googleapis.com/earlyaccess/sawarabimincho.css" rel="stylesheet" />
        <link href="{% sass_src 'sass/custom.sass' %}" rel="stylesheet" />

        <style type="text/css">
        @font-face {
            font-family: "japanese";
            src: url("https://dev.matsuostation.com/static/fonts/msmincho.ttf");
        }
        @page {
            size: A4 portrait;
            font-family: "japanese";
            margin: 1cm;
            /*background-image: url('https://dev.matsuostation.com/static/images/Invoice/New_Seikyu_SS_0_02.png');*/
            background-image: url('{{ fURL }}');

            @frame addredd_frame {
                -pdf-frame-content: address_frame;
                left: 80pt; top: 50pt; height: 120pt; width: 200pt;
                font-size: 18px;
            }

            @frame gid_frame {
                -pdf-frame-content: gid_frame;
                left: 145pt; top: 134.4pt; height: 40pt; width: 100pt;
                font-size: 9px;
            }

            @frame deadline_frame {
                -pdf-frame-content: deadline_frame;
                left: 66.5pt; top: 217.5pt; height: 40pt; width: 102pt;
                font-size: 10px;
            }

            @frame page_frame {
                -pdf-frame-content: page_frame;
                left: 25pt; top: 264pt; width: 532pt; height: 50px;
                font-size: 39px;
            }

            @frame total_frame {
                -pdf-frame-content: total_frame;
                left: 34.5pt; top: 296pt; width: 532pt; height: 50px;
                font-size: 39px;
            }

            @frame db_main_frame {
                -pdf-frame-content: db_main_frame;
                left: 38pt; top: 368pt; width: 532pt;
                font-size: 10px;
            }

            @frame subtotal_frame {
                -pdf-frame-content: subtotal_frame;
                left: 161pt; top: 740.5pt; width: 402pt; height: 50px;
                font-size: 30px;
            }

            @frame bumon_frame {
                -pdf-frame-content: bumon_frame;
                left: 42pt; top: 773pt; width: 521pt; height: 50px;
                font-size: 30px;
            }

        }
        html, body {
            font-family: "japanese";
            font-size: 12px;
        }

        .dbmain {
            table-layout: fixed;
            width: 533px;
        }

        .table {
            width: 100%;
            max-width: 100%;
            margin-bottom: 5px;
            background-color: #fff;
            position: relative;
            margin-top: 10cm;
        }

        .table .gid {
            position: absolute;
            top: 100px;
        }
        </style>

    </head>
    <body>
        <div id="address_frame">
            <table>
                <thead>
                <tr>
                    <td>{{ zipcode }}</td>
                </tr>
                <tr>
                    <td>{{ address }}</td>
                </tr>
                <tr>
                    <td>{{ names }} 様</td>
                </tr>
                </thead>
            </table>
        </div>

        <div id="gid_frame">
            <table>
                <thead>
                <tr>
                    <td>{{ gid }}</td>
                </tr>
                </thead>
            </table>
        </div>

        <div id="deadline_frame">
            <table>
                <thead>
                <tr>
                    <td>{{ dlaa|date:"Y" }}</td>
                    <td style="text-align: center;">{{ mSS }}</td>
                    <td style="text-align: center;">{{ deSS }}</td>
                    <td style="text-align: center;">&nbsp;&nbsp;{{ dSS }}</td>
                </tr>
                </thead>
            </table>
        </div>

        <div id="page_frame">
            <table>
                <thead>
                <tr style="vertical-align: bottom;">
                    <td style="text-align: center; width: 88%;"></td>
                    <td style="text-align: center; width: 3.8%;"></td>
                    {% if ivs.paginator.num_pages == 1 %}
                    <td style="text-align: center; width: 8.2%;">{{ ivs.number }}</td>
                    {% else %}
                    <td style="text-align: center; width: 8.2%;">{{ ivs.number }} / {{ ivs.paginator.num_pages }}</td>
                    {% endif %}
                </tr>
                </thead>
            </table>
        </div>

        <div id="total_frame">
            <table>
                <thead>
                <tr style="vertical-align: bottom;">
                    <td style="text-align: center; width: 6.9%;">{{ slip_vl|intcomma }}</td>
                    <td style="text-align: center; width: 1.1%;"></td>
                    <td style="text-align: center; width: 8.9%;">{{ btotal_vl|intcomma }}</td>
                    <td style="text-align: center; width: 13%;">{{ incash_vl|intcomma }}</td>
                    <td style="text-align: center; width: 6.2%;">0</td>
                    <td style="text-align: center; width: 12.8%;">0</td>
                    <td style="text-align: center; width: 8.8%;">0</td>
                    <td style="text-align: center; width: 12.8%;">{{ total_vl|intcomma }}</td>
                    <!--td style="text-align: center; width: 12.8%;">0</td-->
                    <td style="text-align: center; width: 15.5%;">{{ all_total_values|intcomma }}</td>
                    <!--td style="text-align: center; width: 15.5%;">0</td-->
                    <td style="text-align: center; width: 14%;"></td>
                </tr>
                </thead>
            </table>
        </div>

        <div id="db_main_frame">
        <table class="dbmain">
        <!-- ハイオク(10000) -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10000" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;">{{ iv.m_datetime.date.month }}</td>
                <td style="text-align: center; width: 3.7%;">{{ iv.m_datetime.date.day }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.car_code }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.s_code  }}</td>
                <td style="text-align: center; width: 21.4%;">{{ iv.s_code.h_name }}</td>
                <td style="text-align: center; width: 4.7%;">{{ iv.amount|divistion:100|floatformat:2 }}</td>
                <td style="text-align: center; width: 9.1%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_unit:iv.m_datetime|floatformat:2|intcomma }}</td>
                <td style="text-align: center; width: 14.3%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_value:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;">{{ iv.s_code.uid|s_tax:iv.tax }}</td>
                <td style="text-align: center; width: 8.7%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_tax:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}

        <!-- レギュラー(10100) -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10100" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;">{{ iv.m_datetime.date.month }}</td>
                <td style="text-align: center; width: 3.7%;">{{ iv.m_datetime.date.day }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.car_code }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.s_code  }}</td>
                <td style="text-align: center; width: 21.4%;">{{ iv.s_code.h_name }}</td>
                <td style="text-align: center; width: 4.7%;">{{ iv.amount|divistion:100|floatformat:2 }}</td>
                <td style="text-align: center; width: 9.1%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_unit:iv.m_datetime|floatformat:2|intcomma }}</td>
                <td style="text-align: center; width: 14.3%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_value:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;">{{ iv.s_code.uid|s_tax:iv.tax }}</td>
                <td style="text-align: center; width: 8.7%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_tax:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}
        <!-- 軽油(10200) -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10200" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;">{{ iv.m_datetime.date.month }}</td>
                <td style="text-align: center; width: 3.7%;">{{ iv.m_datetime.date.day }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.car_code }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.s_code  }}</td>
                <td style="text-align: center; width: 21.4%;">{{ iv.s_code.h_name }}</td>
                <td style="text-align: center; width: 4.7%;">{{ iv.amount|divistion:100|floatformat:2 }}</td>
                <td style="text-align: center; width: 9.1%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_unit:iv.m_datetime|floatformat:2|intcomma }}</td>
                <td style="text-align: center; width: 14.3%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_value:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;">{{ iv.s_code.uid|s_tax:iv.tax }}</td>
                <td style="text-align: center; width: 8.7%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_tax:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}
        <!-- 軽油税 -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10200" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;"></td>
                <td style="text-align: center; width: 3.7%;"></td>
                <td style="text-align: center; width: 6.7%;"></td>
                <td style="text-align: center; width: 6.7%;"></td>
                <td style="text-align: center; width: 21.4%;">軽油税</td>
                <td style="text-align: center; width: 4.7%;"></td>
                <td style="text-align: center; width: 9.1%;"></td>
                <td style="text-align: center; width: 14.3%;">{{ ku_tx|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;"></td>
                <td style="text-align: center; width: 8.7%;"></td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}
        <!-- 灯油(10500)  -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10500" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;">{{ iv.m_datetime.date.month }}</td>
                <td style="text-align: center; width: 3.7%;">{{ iv.m_datetime.date.day }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.car_code }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.s_code  }}</td>
                <td style="text-align: center; width: 21.4%;">{{ iv.s_code.h_name }}</td>
                <td style="text-align: center; width: 4.7%;">{{ iv.amount|divistion:100|floatformat:2 }}</td>
                <td style="text-align: center; width: 9.1%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_unit:iv.m_datetime|floatformat:2|intcomma }}</td>
                <td style="text-align: center; width: 14.3%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_value:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;">{{ iv.s_code.uid|s_tax:iv.tax }}</td>
                <td style="text-align: center; width: 8.7%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_tax:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}
        <!-- 免税軽油(10300) or 重油(10600) or 油以外 -->
        {% for iv in ivs %}
            {% if iv.s_code.uid == "10500" %}
            <thead>
            <tr style="height: 15.5px; vertical-align: bottom;">
                <td style="text-align: center; width: 3.8%;">{{ iv.m_datetime.date.month }}</td>
                <td style="text-align: center; width: 3.7%;">{{ iv.m_datetime.date.day }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.car_code }}</td>
                <td style="text-align: center; width: 6.7%;">{{ iv.s_code  }}</td>
                <td style="text-align: center; width: 21.4%;">{{ iv.s_code.h_name }}</td>
                <td style="text-align: center; width: 4.7%;">{{ iv.amount|divistion:100|floatformat:2 }}</td>
                <td style="text-align: center; width: 9.1%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_unit:iv.m_datetime|floatformat:2|intcomma }}</td>
                <td style="text-align: center; width: 14.3%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_value:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 4.4%;">{{ iv.s_code.uid|s_tax:iv.tax }}</td>
                <td style="text-align: center; width: 8.7%;">{{ iv.s_code.uid|one_two:iv.g_code.uid|one_two:iv.amount|one_two:iv.value|one_two:iv.tax|one_two:iv.red_code|check_tax:iv.m_datetime|intcomma }}</td>
                <td style="text-align: center; width: 12.8%;"></td>
            </tr>
            </thead>
            {% endif %}
        {% endfor %}

        </table>
        </div>

        <div id="subtotal_frame">
            <table>
                <thead>
                <tr style="vertical-align: bottom;">
                    <td style="text-align: center; width: 10%;"></td>
                    <td style="text-align: center; width: 5%;">{{ ntax_vl|intcomma }}</td>
                    <td style="text-align: center; width: 25%;"></td>
                    <td style="text-align: center; width: 5%;">{{ tax_vl|intcomma }}</td>
                    <td style="text-align: center; width: 1%;"></td>
                    <td style="text-align: center; width: 54%;">{{ ku_tx|intcomma }}</td>
                </tr>
                </thead>
            </table>
        </div>

        <div id="bumon_frame">
            <table>
                <thead>
                <tr style="vertical-align: bottom;">
                    <td style="text-align: center; width: 10%;">{{ hi_am|floatformat:2|intcomma }}</td>
                    <td style="text-align: center; width: 12%;">{{ hi_vl|intcomma }}</td>
                    <td style="text-align: center; width: 10%;">{{ rg_am|floatformat:2|intcomma }}</td>
                    <td style="text-align: center; width: 11.5%;">{{ rg_vl|intcomma }}</td>
                    <td style="text-align: center; width: 10.5%;">{{ k_am|floatformat:2|intcomma }}</td>
                    <td style="text-align: center; width: 11.8%;">{{ k_vl|intcomma }}</td>
                    <td style="text-align: center; width: 10%;">{{ t_am|floatformat:2|intcomma }}</td>
                    <td style="text-align: center; width: 12%;">{{ t_vl|intcomma }}</td>
                    <td style="text-align: center; width: 10.5%;">{{ n_oil|intcomma }}</td>
                </tr>
                </thead>
            </table>
        </div>

    </body>
</html>
